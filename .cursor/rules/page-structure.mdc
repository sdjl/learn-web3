---
globs: app/**/page.tsx
alwaysApply: false
---

# 页面结构规范

## 组件组织要求

### 1. 页面组件必须放在子目录中

每个页面（`app/**/page.tsx`）必须将功能拆分为独立的组件，并放在 `components` 子目录中。

**目录结构要求：**

```
app/
  └── [页面名称]/
      ├── components/          # 页面专用组件目录（必须）
      │   ├── Header.tsx       # 页面标题组件
      │   ├── Form.tsx         # 表单组件（如需要）
      │   ├── EmptyState.tsx   # 空状态组件（如需要）
      │   └── ...              # 其他功能组件
      └── page.tsx             # 主页面文件，只负责整合组件
```

**参考示例：**

- ✅ `app/transfer/components/Form.tsx`
- ✅ `app/chain-balance/components/ChainSelector.tsx`
- ❌ 将所有代码都写在 `page.tsx` 中

### 2. 主页面职责

主页面文件（`page.tsx`）应该：

- **只负责整合组件**：导入并组合各个功能组件
- **保持简洁**：不包含复杂的业务逻辑
- **提供布局**：定义页面的整体布局结构

**示例结构：**

```typescript
"use client";

// ============================================================
// 页面名称：页面功能描述
// ============================================================
// 作用：
// - 整合所有相关功能组件
// - 提供统一的页面布局和样式
// - 作为功能的入口页面
// ============================================================

import { Header } from "./components/Header";
import { Form } from "./components/Form";
import { EmptyState } from "./components/EmptyState";

export default function PageName() {
  return (
    <main>
      {/* 页面标题区域组件 - 显示页面标题和描述信息 */}
      <Header />

      {/* 表单组件 - 处理用户输入和提交 */}
      <Form />

      {/* 空状态组件 - 显示未连接时的提示 */}
      <EmptyState />
    </main>
  );
}
```

## 注释规范要求

### 1. 组件文件头部注释（必须）

每个组件文件**必须**包含详细的中文注释，说明组件的作用和功能。

**格式：**

```typescript
// ============================================================
// 组件名称：组件功能描述
// ============================================================
// 作用：
// - 功能点 1
// - 功能点 2
// - 功能点 3
// ============================================================
```

**示例：**

```typescript
// ============================================================
// 链选择器组件：处理链的切换和选择
// ============================================================
// 作用：
// - 显示支持的链列表
// - 处理链切换操作
// - 显示当前链和选中链的状态
// - 显示切换链的状态提示
// ============================================================
```

### 2. 组件调用注释（必须）

在主页面中调用组件时，**必须**添加中文注释，说明该组件的作用。

**格式：**

```typescript
{/* 组件名称 - 组件功能说明 */}
<ComponentName />
```

**示例：**

```typescript
{/* 页面标题区域组件 - 显示页面标题和描述信息 */}
<Header />

{/* 钱包连接组件 - 处理钱包连接和断开，显示连接状态、地址、网络和余额信息 */}
<WalletConnection
  title="连接钱包"
  description="请先连接钱包以使用功能"
/>

{/* 表单组件 - 处理用户输入和交易提交 */}
<Form />

{/* 空状态组件 - 仅在钱包未连接时显示，提示用户连接钱包 */}
{!isConnected && <EmptyState />}
```
